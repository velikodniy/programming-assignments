\Section{Наследование и полиморфизм}

\subsection{Наследование и интерфейсы}

\task Описать интерфейс \Lst{ICalculation} для преобразований чисел
типа double. Он должен содержать метод \Lst{Perform} (выполнить
преобразование), принимающий число и возвращающий результат
преобразования.

Описать два класса, реализующих этот интерфейс: \Lst{Add} и
\Lst{Multiply}. Первый класс увеличивает число на некоторую величину,
а второй умножает на заданный коэффициент (величины определяются
конструкторами).

Написать функцию \Lst{Calculate}, принимающую число и два
преобразования. Функция должна последовательно применять
преобразования к числу и возвращать результат.

Написать программу, использующую эту функцию.

Пример вызова функции:
\begin{lstlisting}[numbers=none]
var x = Calculate(1, new Add(2), new Multiply(3));
\end{lstlisting}

Построить UML-диаграмму.

\task Описать интерфейс \Lst{IShape} для геометрических
фигур. Интерфейс должен содержать методы: \Lst{Perimeter} и
\Lst{Area}, возвращающие периметр и площадь соответственно.

Описать классы \Lst{Triangle} (треугольник) и \Lst{Disk} (круг),
реализующие этот интерфейс. Параметры фигур должны задаваться при
создании экземпляра.

Написать функцию, принимающую фигуру и выводящую на экран её название,
параметры, периметр и площадь.

Написать программу, использующую эту функцию.

Построить UML-диаграмму.

\task Описать абстрактный класс \Lst{Person} (человек),
соответствующий человеку. Экземпляры этого класса должны хранить
информацию о фамилии (\Lst{Surname}), имени (\Lst{Name}) и отчестве
(\Lst{Patronymic}). Класс должен содержать абстрактный метод Income
без параметров, возвращающий годовой доход.

Описать классы \Lst{Student} (студент) и \Lst{Employee} (сотрудник),
являющиеся потомками класса \Lst{Person}. Класс \Lst{Student} содержит
величину ежемесячной стипендии, а класс \Lst{Employee} — величину
месячного оклада и процентную ставку налога.

Написать программу, использующую эти классы.

Построить UML-диаграмму.

\task Описать интерфейс \Lst{ISolid} для геометрических тел. Интерфейс
должен содержать методы: \Lst{Volume} и \Lst{SurfaceArea},
возвращающие объём и площадь поверхности соответственно.

Описать классы \Lst{Cube} (куб) и \Lst{Cylinder} (цилиндр),
реализующие этот интерфейс. Параметры тел должны задаваться при
создании экземпляра.

Написать функцию, принимающую тело и выводящую на экран её название,
параметры, объём и площадь поверхности.

Написать программу, использующую эту функцию.

Построить UML-диаграмму.

\task Описать интерфейс \Lst{IPrinter}, соответствующий способам
вывода действительных чисел на экран. Он должен содержать метод
\Lst{Print}, принимающий число и выводящий его на экран в соответствии
с конкретной реализацией.

Описать классы \Lst{PrecisionPrinter} и \Lst{LinePrinter}, реализующие
этот интерфейс. Первый класс выводит число с указанной точностью, а
второй после каждого числа рисует линию указанной длины из знаков
«-». Необходимые параметры (точность и длина линии) передаются через
конструктор.

Написать функцию \Lst{PrintNumbers}, выводящую числа начиная с 0 с
указанным шагом при помощью класса, передаваемого через
аргументы. Также через аргументы должно передаваться количество
выводимых чисел и шаг.

Написать программу, использующую эту функцию.

Пример вызова функции:
\begin{lstlisting}[numbers=none]
PrintNumbers(5, 0.2, new LinePrinter(10));
\end{lstlisting}

Построить UML-диаграмму.

\task Описать интерфейс \Lst{IPolynomial}, соответствующий
многочленам. Он должен содержать методы \Lst{IsAbove} и \Lst{IsBelow},
проверяющие, находится ли указанная точка на плоскости строго выше или
ниже графика многочлена соответственно.

Описать классы \Lst{Linear} (линейный) и \Lst{Quadratic} (квадратный),
реализующие этот интерфейс. Написать функцию \Lst{IsBetween},
принимающую два многочлена и координаты точки и проверяющую, находится
ли точка выше первого и ниже второго многочлена.

Написать программу, использующую эту функцию.

Построить UML-диаграмму.

\task Описать интерфейс \Lst{IVector}, соответствующий векторам. Он
должен содержать методы:
\begin{itemize*}
\item \Lst{Size} (размер), возвращающий количество координат вектора;
\item \Lst{Get} (получить), возвращающий координату вектора по номеру.
\end{itemize*}

Описать классы \Lst{Vector2} (двумерный вектор), \Lst{Vector3}
(трёхмерный вектор), реализующие этот интерфейс. Написать функцию,
находящую скалярное произведение двух векторов, если это возможно.
(Произведение определено только для векторов одного размера.)

Написать программу, использующую эту функцию.

Построить UML-диаграмму.

\task Реализовать иерархию классов: \Lst{Point} (точка) —
\Lst{MassivePoint} (точка с массой) — \Lst{MassiveBall} (шар с
массой). Точка определяется координатами в пространстве, шар имеет
дополнительную характеристику — радиус. Все параметры должны
задаваться при создании объектов.

Написать функции:
\begin{itemize*}
\item \Lst{Distance} (расстояние), определяющую расстояние между
  произвольными объектами;
\item \Lst{Attraction} (притяжение), находящую силу взаимного
  притяжения между объектами, имеющими массу.
\end{itemize*}
При вычислениях пренебречь возможными взаимными пересечениями
объектов.

Написать программу, использующую эти функции.

Построить UML-диаграмму.

\task Описать интерфейс \Lst{ISequence}, соответствующий числовым
последовательностям. Он должен содержать метод \Lst{GetElement},
возвращающий элемент последовательности по его номеру.

Описать классы \Lst{ArithmeticProgression} (арифметическая прогрессия)
и \Lst{GeometricProgression} (геометрическая прогрессия), реализующие
этот интерфейс. Параметры прогрессий (первый элемент и разность или
знаменатель) должны задаваться при создании экземпляра.

Написать функцию \Lst{Sum} которая возвращают сумму указанного
количества элементов последовательности начиная с первого.

Написать программу, использующую эту функцию.

Пример вызова функции:
\begin{lstlisting}[numbers=none]
var s = Sum(new ArithmeticProgression(3, 5), 10);
\end{lstlisting}

Построить UML-диаграмму.

\task Описать абстрактный класс \Lst{Viewer}, соответствующий зрителям
кинотеатра. Он должен содержать:
\begin{itemize*}
\item поле \Lst{visits}, хранящее количество посещений;
\item метод \Lst{Visit} (посетить), увеличивающий число посещений на
  1;
\item абстрактный метод \Lst{Cost} (стоимость), получающий цену билета
  и возвращающий его стоимость с учётом скидок.
\end{itemize*}
Изначальное количество посещений задаётся при помощи конструктора.

Описать классы \Lst{RegularViewer} (постоянный посетитель) и
\Lst{StudentViewer} (студент), являющиеся потомками класса
Viewer. Постоянный посетитель за каждые 10 посещений получает
дополнительную скидку в 1~\%, но не более, чем 20~\%. Для студентов на
каждое третье посещение даётся скидка в 50~\%.

Написать функцию \Lst{TotalCost}, принимающую экземпляр класса
\Lst{Viewer}, цену билета и количество сеансов, и возвращающую общую
стоимость билетов с учётом скидок. Эта функция должна моделировать
посещения кинотеатра.

Написать программу, использующую эту функцию.

Пример вызова функции:
\begin{lstlisting}[numbers=none]
var viewer = new StudentViewer(5);
var total = TotalCost(viewer, 35.00M, 20);
\end{lstlisting}
Этот вызов вычисляет стоимость двадцати посещений сеансов, стоящих 35
рублей, для студента, который уже посетил пять сеансов. После вызова
количество посещений у объекта \Lst{viewer} будет равно 25.

Построить UML-диаграмму.


\subsection{Сравнение экземпляров}

\task Описать класс \Lst{Triangle}, соответствующий треугольникам.
Определить в нем операции и методы сравнения, сравнивающие
треугольники по площади.

\task Описать класс \Lst{Time}, соответствующий времени суток (часы и
минуты). Определить в нем операции и методы сравнения. Более ранние
моменты времени считать меньшими, чем более поздние.

\task Описать класс \Lst{Progression}, соответствующий геометрическим
прогрессиям. Определить в нём операции и методы сравнения,
сравнивающие прогрессии по значению суммы бесконечного числа их
элементов.

\task Описать класс \Lst{Box}, соответствующий
параллелепипедам. Определить операции и методы сравнения, позволяющие
проверить, можно ли вложить один параллелепипед в другой (в этом
случае вложенный считать меньшим, чем объемлющий). Стенки считать
бесконечно тонкими.

\task Описать класс \Lst{RGBColor}, соответствующий цвету в модели
RGB. В этой модели каждый цвет задаётся тремя числами $R,$ $G$ и $B,$
соответствующими интенсивностям красной, зелёной и синей компонент
соответственно. Интенсивности — действительные числа из отрезка
$[0; 1]$.

Определить в классе операции и методы сравнения, сравнивающие цвета по
яркости. Яркость вычисляется по формуле:
\[
Y = 0{,}299 R + 0{,}587 G + 0{,}114 B.
\]

\task Описать класс \Lst{Deposit}, соответствующий банковскому
вкладу. Вклад определятся тремя величинами: начальной суммой, сроком
(в годах) и процентной ставкой. Каждый год сумма на счету
увеличивается на величину процентной ставки.

Определить в классе операции и методы сравнения, сравнивающие вклады
по величине чистой прибыли за срок действия вклада.

\task Описать класс \Lst{Interval}, соответствующий отрезкам числовой
прямой. Определить в классе операции и методы сравнения, сравнивающие
отрезки следующим образом. Из двух пересекающихся отрезков больше тот,
у которого доля общей части больше. Непересекающиеся отрезки считаются
разными.

\task Описать класс \Lst{Rate}, соответствующий пакетам услуг
связи. Каждый пакет услуг определяется стоимостью, количеством минут в
пакете и количеством бесплатных минут.

Определить в классе операции и методы сравнения, сравнивающие пакеты
по экономичности. Более экономичным является тот пакет услуг, в
котором стоимость одной минуты ниже.

\task Описать класс \Lst{Point}, соответствующий точкам в
пространстве.  Определить в классе операции и методы
сравнения. Считать меньшей ту точку, которая ближе к началу координат.

\task Описать класс \Lst{Line} отрезков на плоскости. Определить в нем
операции и методы сравнения, сравнивающие отрезки по длине.
